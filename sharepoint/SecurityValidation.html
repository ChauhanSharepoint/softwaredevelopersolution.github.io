<!DOCTYPE HTML>
<html>
<head>
    <!-- google ads -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    <title>The security validation for this page is invalid</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="How to correct: The security validation for this page is invalid (FormDigest)." />
    <meta name="keywords" content="Sharepoint, Asp.net, Sql Server, Sql, MS Sql, HTML, CSS, XML, Bootstrap, JavaScript, asp, language, tutorial, application, framework, programming, Interview Questions, Powershell Tutorial" />
    <link href="../assets/css/main.css" rel="stylesheet" type="text/css" />
</head>
<body class="is-preload">
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-4466196973375945",
            enable_page_level_ads: true
        });
    </script>
    <amp-auto-ads type="adsense" data-ad-client="ca-pub-4466196973375945">
    </amp-auto-ads>
    <!-- Wrapper -->
    <div id="wrapper">
        <!-- Main -->
        <div id="main">
            <div class="inner">
                <!-- Header -->
                <header id="header">
					<a href="index.html" class="logo">The security validation for this page is invalid</a>
					<ul class="icons">
						<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
						<li><a href="#" class="icon fa-snapchat-ghost"><span class="label">Snapchat</span></a></li>
						<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="#" class="icon fa-medium"><span class="label">Medium</span></a></li>
					</ul>
				</header>
                <!-- Banner -->
                <section id="banner">
					<div class="content">
						<header>
							<h1>How to correct: The security validation for this page is invalid (FormDigest)</h1>
						</header>
						<p>
                            <span>How to correct the security error on a custom SharePoint web 
                            page:</span></p>
                        <p>
                            <i><span>The security validation for this page is invalid. Click Back 
                            in your Web browser, refresh the page, and try your operation again.</span></i></p>
                        <p>
                            <b><span>Short Answer:</span></b></p>
                        <p>
                            <span>Use <b>SPUtility.ValidateFormDigest()</b> and do not use <b>
                            AllowUnsafeUpdates</b>.</span></p>
                        <p>
                            <b><span>A Less Desirable Solution (but more commonly used)</span></b></p>
                        <p>
                            <span>One way to get around this issue is to set the web’s (SPWeb) 
                            AllowUnsafeUpdates property to true. This is not ideal, especially when there is 
                            a more secure option.</span></p>
                        <p>
                            <b><span>A Better Solution</span></b></p>
                        <p>
                            <span>I needed to implement this recently and could not remember 
                            exactly what corrective code was needed, so I’m posting it here for easy recall. 
                            A co-worker (Jim Blanchard) originally tracked this solution down a good while 
                            back. This solution configures the web page to properly cache and revalidate the 
                            necessary credentials preventing the “security validation” error noted above. 
                            And, there is no need to set the AllowUnsafeUpdate spweb property to true.</span></p>
                        <p>
                            <b><span>Coding Steps:</span></b></p>
                        <p>
                            <span>Register the SharePoint web controls assembly in your aspx. 
                            Place this at the top of the .aspx file:</span></p>
                        <p>
                            <span>&lt;%<span>@</span> <span>Register</span> <span>
                            TagPrefix=“SharePoint”</span> <span>Namespace=“Microsoft.SharePoint.WebControls” 
                            Assembly=“Microsoft.SharePoint, Version=12.0.0.0, Culture=neutral, 
                            PublicKeyToken=71e9bce111e9429c“</span> %&gt;</span></p>
                        <p>
                            <span>Place the <b>FormDigest</b> control on the .aspx page (I place 
                            it near the end of the page):</span></p>
                        <p>
                            <span>&lt;sharepoint:formdigest id=”FormDigest1″ runat=”server” /&gt;</span></p>
                        <p>
                            <b><span>Note:</span></b><span> To resolve the <b>SPUtility</b> 
                            class you will need to add a namespace reference to your .cs file like so:</span></p>
                        <p>
                            <span>using Microsoft.SharePoint.Utilities</span></p>
                        <p>
                            <span>In your page code-behind, call the <b>ValidateFormDigest()</b> 
                            method during the page <b>OnInit()</b> event to revalidate the page security. It 
                            is important the ValidateFormDigest method is called as early as possible in the 
                            page cycle.</span></p>
                        <span>protected override void OnInit(EventArgs e)<br />
                        {<br />
                        if (Page.IsPostBack)</span><p>
                            
                        </p>
                    </div>
				</section>
            </div>
        </div>
        <!-- Sidebar -->
        <div id="sidebar">
            <div class="inner">
                <!-- Logo -->
                <section id="search" class="alt">
					<header>
							<h4><a href="http://softwaredevelopersolution.com">Software Developer Solution</a></h4>
						</header>
				</section>
                <!-- Menu -->
                <nav id="menu">
					<header class="major">
						<h2>Menu</h2>
					</header>
					<ul>
						
						<li>
							<span class="opener active">SHAREPOINT</span>
							<ul>
								<li><a href="/sharepoint/index.html">Sharepoint</a></li>
                                <li><a href="/sharepoint/OverviewSharepointStructure.html">Overview Sharepoint Structure</a></li>
                                <li><a href="/sharepoint/PermissionLevels.html">Permission Levels</a></li>
                                <li><a href="/sharepoint/AnonymousAccess.html">Anonymous Access</a></li>
                                <li><a href="/sharepoint/SiteCollectionDatabase.html">Site Collection Database</a></li>
                                <li><a href="/sharepoint/ChangeDefaultFormSharepoint.html">Change Default Form</a></li>
                                <li><a href="/sharepoint/UNABLESAVETHEFORM.html">Unable to save the form</a></li>
                                <li><a href="/sharepoint/ManagePermissionPolicies.html">Manage Permission Policies</a></li>
                                <li><a href="/sharepoint/EnableVersioning.html">Enable Versioning</a></li>
                                <li><a href="/sharepoint/UnderstandingScope.html">Understanding Scope</a></li>
                                <li><a href="/sharepoint/AllowUnsafeUpdates.html">Allow Unsafe Updates</a></li>
                                <li><a href="/sharepoint/TimerJob.html">Timer Job</a></li>
                                <li><a href="/sharepoint/WorkflowAssociationsProperty.html">Workflow Associations Property</a></li>
                                <li><a href="/sharepoint/WorkflowObjectModel.html">Workflow Object Model</a></li>
                                <li><a href="/sharepoint/FBAUserLogin.html">FBA User Login</a></li>
                                <li><a href="/sharepoint/InfopathDataSources.html">Data Sources in Infopath</a></li>
							</ul>
						</li>
                        <li><a href="/aspnet/index.html">asp.net</a></li>
                        <li><a href="/sql/index.html">sql</a></li>
                        <li><a href="/Powershell/index.html">Powershell</a></li>
                        <li><a href="/html/index.html">html</a></li>
                        <li><a href="/css/index.html">css</a></li>
                        <li><a href="/javascript/index.html">java script</a></li>
                        <li><a href="/bootstrap/index.html">bootstrap</a></li>
                        <li><a href="/jquery/index.html">jquery</a></li>
                        <li><a href="/IQ/index.html">Interview Question</a></li>
					</ul>
				</nav>
                <!-- Footer -->
                <footer id="footer">
					<p class="copyright">&copy; All rights reserved. <a href="http://softwaredevelopersolution.com">Software Developer Solution</a>.</p>
				</footer>
            </div>
        </div>
    </div>
    <!-- Scripts -->
    <script src="/../assets/js/jquery.min.js"></script>
    <script src="/../assets/js/browser.min.js"></script>
    <script src="/../assets/js/breakpoints.min.js"></script>
    <script src="/../assets/js/util.js"></script>
    <script src="/../assets/js/main.js"></script>
</body>
</html>
